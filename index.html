<!DOCTYPE html>
<html lang="en" ng-app="ERL">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>Express Resilient Lab</title>

    <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body ng-controller="AppCtrl as ctrl">
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.5.8/angular-sanitize.min.js"></script>
<script type="text/javascript" src="js/app.js"></script>

<!-- SECTION THAT EXPLAINS THE DIFFERENCE -->
<div class="animate-slide" ng-show="clickedDiff">
    <div ng-show="clickedDiff">
        <h2>{{differenceText}}</h2>
        <button ng-click="clickedDiff=!clickedDiff" ng-class="clickedDiff ? '' : 'hide'" class="closeBtn">X</button>
    </div>
</div>

<!-- SECTION THAT EXPLAINS WHY YOU WOULD CHOOSE WORDPRESS -->
<div class="animate-slide" ng-show="clickedWP">
    <div ng-show="clickedWP">
        <h2>{{wordpressText}}</h2>
        <button ng-click="clickedWP=!clickedWP" ng-class="clickedWP ? '' : 'hide'" class="closeBtn">X</button>
    </div>
</div>
<!-- THANK YOU MESSAGE SECTION -->
<div class="animate-slide" ng-show="formComplete" id="thankyou_message">
    <div ng-show="formComplete">
        <h2><em>Thanks</em> for contacting us {{client.name}}!
            We will get back to you soon!</h2>
        <button ng-click="formComplete=!formComplete" ng-class="formComplete ? '' : 'hide'" class="closeBtn">X</button>
    </div>
</div>

<!-- START SCREEN MESSAGE SECTION -->
<div class="animate-slide" ng-show="formComplete" id="start">
    <div ng-show="formComplete">
        <h2><em>Thanks</em> for contacting us {{client.name}}!
            We will get back to you soon!</h2>
        <button ng-click="formComplete=!formComplete" ng-class="formComplete ? '' : 'hide'" class="closeBtn">X</button>
    </div>
</div>



<div ng-class="isEnlarged ? 'imageContainer' : 'hide'">
    <div ng-bind-html="viewedImage">
    </div>
    <button ng-click="viewThumbnail()" ng-class="isEnlarged ? '' : 'hide'" class="closeBtn">X</button>
</div>
<!-- Express Resilient Lab Form version 1.10  developed by Resilient Lab, tested by East Coast Product & Fresh Tilled Soil -->
<form name="form" class="css-form" novalidate ng-submit='setChecked()' id="gform" method="POST" class="pure-form pure-form-stacked"
          action="https://script.google.com/macros/s/AKfycbyAQkJ4lG2Ub7MQQjeJH4SqAqeryI7m-rsV0ObGKGrMcdDhB8wl/exec">
    <!-- FORM ENTRY #1 -->
    <section id="first">
        <h2>Thanks for your interest in Resilient Lab</h2>
        <p>We have a few questions for you before we can give you a quote. The first one is easy, tell us about
            yourself: </p>
        <input id="name" ng-model="client.name" type="text" name="name" placeholder="Name" required>
        <input id="email" ng-model="client.email" type="email" name="email" placeholder="Email" required>
        <input id="company" ng-model="client.company" type="text" name="company" placeholder="Company name">
        <a class="Btn" href="#second">Continue</a>
    </section>
    <!-- FORM ENTRY #2 -->
    <section id="second">
        <h2>Thanks, {{client.name}}</h2>
        <p>Let's talk about your site. Would you consider this project to be a website or a web app?</p>

        <div>
            <input id="webapp" type="radio" class="hide" value="webapp" name="projectType"/>
            <label for="webapp">Web App</label>
            <p>|</p>
            <input id="website" type="radio" class="hide" value="website" name="projectType"/>
            <label for="website">Web Site</label>
        </div>

        <i ng-click="clickedDiff=!clickedDiff" >What's the difference?</i>
        <a class="Btn" href="#third">Continue</a>
    </section>
    <!-- FORM ENTRY #3 -->
    <section id="third">
        <h2>We love websites!</h2>
        <p>What are users supposed to learn from the site?</p>
        <div>
            <li ng-repeat="btn in learnBtns" >
                <input id="learn{{btn.id}}" type="checkbox" class="hide" value="{{btn.val}}" name="learn{{btn.id}}"/>
                <label for="learn{{btn.id}}">{{btn.val}}</label>
                <input id="goal{{btn.id}}" type="hidden" value="" name="goal{{btn.id}}">
            </li>
        </div>

        <p>Anything else we should know?</p>
        <textarea id="moreinfo" ng-model="moreInfo" name="moreInfo"></textarea>
        <a class="Btn" href="#fourth">Continue</a>
    </section>
    <!-- FORM ENTRY #4 -->
    <section id="fourth">
        <h2>How big is this project?</h2>
        <p>How many pages will the site have, and what are they?</p>
        <div>
            <li ng-repeat="page in selectPages" >
                <input id="selectPages{{page.id}}" type="checkbox" class="hide" value="{{page.val}}" name="selectPages"/>
                <label for="selectPages{{page.id}}">{{page.val}}</label>
            </li>
        </div>
        <a class="Btn" href="#page1" ng-click="setPages()">Continue</a>
    </section>
    <!-- FORM ENTRY TEMPLATES -->
        <section class=selectedPages" id="page{{pg.idx}}" ng-repeat="pg in selectedPages">
            <h2 ng-if="$first">Let's talk design</h2>
            <p ng-if="$first">For each page, choose a template that you think fits your content. Let's start with the homepage - pick a
                homepage template</p>

            <h2 ng-if="!$first">Interior pages need love, too!</h2>
            <p ng-if="!$first">The interior pages are all of the pages of your site that aren't the homepage. Check out our templates for
                blogs, event calendars, contact forms, and general static pages.</p>

            <h2 ng-if="!$first">Template for - {{pg.name}}</h2>

            <div class="templates">
                <div class="template" ng-repeat="temps in templateSet1" ng-show="showTemplates">
                    <div>
                        <img ng-click="viewThumbnail()" ng-src={{temps}}>
                    </div>
                    <input id="template{{templateSet1.indexOf(temps)+1}}idx{{pg.idx}}" type="radio" class="hide"
                           value="template{{templateSet1.indexOf(temps)+1}}" name="{{pg.name}}"/>
                    <label for="template{{templateSet1.indexOf(temps)+1}}idx{{pg.idx}}" class="selectBtn">Select</label>
                </div>
                <div class="template" ng-hide="showTemplates" ng-repeat="temps in templateSet2">
                    <div>
                        <img ng-click="viewThumbnail()" ng-src={{temps}}>
                    </div>
                    <input id="template{{templateSet2.indexOf(temps)+5}}idx{{pg.idx}}" type="radio" class="hide"
                           value="template{{templateSet2.indexOf(temps)+5}}" name="{{pg.name}}"/>
                    <label for="template{{templateSet2.indexOf(temps)+5}}idx{{pg.idx}}" class="selectBtn">Select</label>
                </div>
            </div>
            <br>
            <a ng-click="showTemplates=!showTemplates">CLICK</a>

            <a class="Btn" href="#page{{pg.idx+1}}" ng-if="!$last">Select Next</a>
            <a class="Btn" href="#sixth" ng-if="$last">Continue</a>
        </section>

        <!-- FORM ENTRY #6 -->
    <section id="sixth">
        <h2>Last question, do you need Wordpress?</h2>
        <i ng-click="clickedWP=!clickedWP" >I don't know, why would I need Wordpress?</i>
        <div>
            <input id="yeswp" type="radio" class="hide" value="yeswp" name="isWordpress"/>
            <label for="yeswp">Yes, Wordpress</label>
            <input id="nowp" type="radio" class="hide" value="nowp" name="isWordpress"/>
            <label for="nowp">No, Thank You</label>
        </div>

        <a class="Btn" href="#seventh">Continue</a>
    </section>
    <!-- FORM ENTRY #7 -->
    <section id="seventh">
        <h2>Putting your quote together now!</h2>
        <a class="Btn" href="#eighth" ng-click="calculateQuote()">See Quote</a>
    </section>
    <!-- FORM ENTRY #8 -->
    <section id="eighth">
        <h2>Here's how much we think the site will cost: </h2>
        <h1>{{quoteRange}}</h1>
        <p>The rough estimate supports our mission of [[INSERT MESSAGE]],
            if you're interested in helping a young person, click below to send us a message</p>
        <input class="Btn" type="submit" value="Email Us" />
    </section>
</form>

<script data-cfasync="false" type="text/javascript"
        src="https://cdn.rawgit.com/dwyl/html-form-send-email-via-google-script-without-server/master/form-submission-handler.js">

</script>

<script type="text/javascript">
    var inputs = document.querySelectorAll( '.inputfile' );
    Array.prototype.forEach.call( inputs, function( input )
    {
        var label	 = input.nextElementSibling,
                labelVal = label.innerHTML;

        input.addEventListener( 'change', function( e )
        {
            var fileName = '';
            if( this.files && this.files.length > 1 )
                fileName = ( this.getAttribute( 'data-multiple-caption' ) || '' ).replace( '{count}', this.files.length );
            else
                fileName = e.target.value.split( '\\' ).pop();

            if( fileName )
                label.querySelector( 'span' ).innerHTML = fileName;
            else
                label.innerHTML = labelVal;
        });
    });
</script>

</body>
</html>
